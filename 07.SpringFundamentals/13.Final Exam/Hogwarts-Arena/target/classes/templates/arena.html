<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Arena</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Inter:wght@400;600;800&display=swap"
          rel="stylesheet">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/home.css"> <!-- reuse base style -->
    <link rel="stylesheet" href="/css/arena.css"> <!-- arena overrides -->
</head>
<body>

<th:block th:insert="~{/fragments/index-fragments :: corner-veil}"></th:block>
<th:block th:insert="~{/fragments/index-fragments :: particles}"></th:block>
<div class="auth-blur"></div>
<main class="arena-shell">

    <h1 class="arena-title">Hogwarts Arena</h1>

    <div class="back-actions">
        <a href="/home" class="btn btn-secondary">Back to Home</a>
    </div>

    <!-- Gryffindor -->
    <section class="section panel">
        <header class="section-head">
            <h3>Gryffindor</h3>
            <span class="count-badge house-gryffindor" th:text="${gryffindorWizards.size()}">99</span>
        </header>
        <div class="cards wiz-cards">
            <article class="spell-card wiz-card" th:each="wizard : ${gryffindorWizards}">
                <div class="media">
                    <img th:src="${wizard.avatarUrl}">
                    <div class="pills">
                        <span class="pill pill-align-light" th:if="${wizard.alignment.displayName == 'Light'}">Light</span>
                        <span class="pill pill-align-dark" th:if="${wizard.alignment.displayName == 'Dark'}">Dark</span>
                    </div>
                </div>
                <div class="body">
                    <h4 class="spell-name" th:text="${wizard.username}">Wanda</h4>
                    <div class="meta">
                        <span class="meta-item" th:text="${'Spells ' + wizard.spells.size()}">Spells <strong>5</strong></span>
                        <span class="meta-item" th:text="${'Power ' + wizard.totalPower}">Power <strong>312</strong></span>
                    </div>
                </div>
            </article>
        <p class="empty muted" th:if="${gryffindorWizards.size() == 0}">No students yet.</p>
        </div>
    </section>

    <!-- Slytherin -->
    <section class="section panel">
        <header class="section-head">
            <h3>Slytherin</h3>
            <span class="count-badge house-slytherin" th:text="${slytherinWizards.size()}">99</span>
        </header>
        <div class="cards wiz-cards">
            <article class="spell-card wiz-card" th:each="slytherin : ${slytherinWizards}">
                <div class="media">
                    <img th:src="${slytherin.avatarUrl}">
                    <div class="pills">
                        <span class="pill pill-align-light" th:if="${slytherin.alignment.displayName == 'Light'}">Light</span>
                        <span class="pill pill-align-dark" th:if="${slytherin.alignment.displayName == 'Dark'}">Dark</span>
                    </div>
                </div>
                <div class="body">
                    <h4 class="spell-name" th:text="${slytherin.username}">Wanda</h4>
                    <div class="meta">
                        <span class="meta-item" th:text="${'Spells ' + slytherin.spells.size()}">Spells <strong>5</strong></span>
                        <span class="meta-item" th:text="${'Power ' + slytherin.totalPower}">Power <strong>312</strong></span>
                    </div>
                </div>
            </article>
            <p class="empty muted" th:if="${slytherinWizards.size() == 0}">No students yet.</p>
        </div>
    </section>

    <!-- Ravenclaw -->
    <section class="section panel">
        <header class="section-head">
            <h3>Ravenclaw</h3>
            <span class="count-badge house-ravenclaw" th:text="${ravenclawWizards.size()}">99</span>
        </header>
        <div class="cards wiz-cards">
            <article class="spell-card wiz-card" th:each="ravenclaw : ${ravenclawWizards}">
                <div class="media">
                    <img th:src="${ravenclaw.avatarUrl}">
                    <div class="pills">
                        <span class="pill pill-align-light" th:if="${ravenclaw.alignment.displayName == 'Light'}">Light</span>
                        <span class="pill pill-align-dark" th:if="${ravenclaw.alignment.displayName == 'Dark'}">Dark</span>
                    </div>
                </div>
                <div class="body">
                    <h4 class="spell-name" th:text="${ravenclaw.username}">Wanda</h4>
                    <div class="meta">
                        <span class="meta-item" th:text="${'Spells ' + ravenclaw.spells.size()}">Spells <strong>5</strong></span>
                        <span class="meta-item" th:text="${'Power ' + ravenclaw.totalPower}">Power <strong>312</strong></span>
                    </div>
                </div>
            </article>
            <p class="empty muted" th:if="${ravenclawWizards.size() == 0}">No students yet.</p>
        </div>
    </section>

    <!-- Hufflepuff -->
    <section class="section panel">
        <header class="section-head">
            <h3>Hufflepuff</h3>
            <span class="count-badge house-hufflepuff" th:text="${hufflepuffWizards.size()}">99</span>
        </header>
        <div class="cards wiz-cards">
            <article class="spell-card wiz-card" th:each="hufflepuff : ${hufflepuffWizards}">
                <div class="media">
                    <img th:src="${hufflepuff.avatarUrl}">
                    <div class="pills">
                        <span class="pill pill-align-light" th:if="${hufflepuff.alignment.displayName == 'Light'}">Light</span>
                        <span class="pill pill-align-dark" th:if="${hufflepuff.alignment.displayName == 'Dark'}">Dark</span>
                    </div>
                </div>
                <div class="body">
                    <h4 class="spell-name" th:text="${hufflepuff.username}">Wanda</h4>
                    <div class="meta">
                        <span class="meta-item" th:text="${'Spells ' + hufflepuff.spells.size()}">Spells <strong>5</strong></span>
                        <span class="meta-item" th:text="${'Power ' + hufflepuff.totalPower}">Power <strong>312</strong></span>
                    </div>
                </div>
            </article>
            <p class="empty muted" th:if="${hufflepuffWizards.size() == 0}">No students yet.</p>
        </div>
    </section>
</main>
</body>
</html>
